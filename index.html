<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <title>Integrated Media Advertisement Dashboard</title>

    <!-- Scripts & Fonts -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />

    <style type="text/tailwindcss">
        :root {
            --channel-tv: #60A5FA;
            --channel-print: #F59E0B;
            --channel-digital: #34D399;
            --channel-social: #A78BFA;
            --channel-radio: #F87171;
            --channel-ooh: #F472B6;
        }
    </style>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#428bf0",
                        "background-light": "#F8FAFC",
                        "background-dark": "#0F172A",
                        "card-light": "#FFFFFF",
                        "card-dark": "#1E293B",
                        "text-light": "#111827",
                        "text-dark": "#E5E7EB",
                        "border-light": "#E2E8F0",
                        "border-dark": "#374151",
                        "subtle-text-light": "#64748B",
                        "subtle-text-dark": "#94A3B8"
                    },
                    fontFamily: {
                        "display": ["Inter", "Roboto", "sans-serif"]
                    },
                    borderRadius: { "DEFAULT": "0.5rem", "lg": "0.75rem", "xl": "1rem", "full": "9999px" },
                    boxShadow: {
                        'sm': '0 1px 2px 0 rgb(0 0 0 / 0.05)',
                        'DEFAULT': '0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)',
                        'md': '0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)',
                        'lg': '0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -2px rgb(0 0 0 / 0.1)',
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.6s ease-in-out',
                        'slide-up': 'slideUp 0.5s ease-out',
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    }
                },
            },
        }
    </script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideUp {
            from { 
                opacity: 0;
                transform: translateY(20px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #428bf0 0%, #6366f1 50%, #8b5cf6 100%);
        }
        
        .metric-card {
            background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            transition: all 0.3s ease;
        }
        
        .dark .metric-card {
            background: linear-gradient(145deg, #1e293b 0%, #334155 100%);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
        }
        
        .metric-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        
        .chart-container {
            background: linear-gradient(145deg, #ffffff 0%, #f1f5f9 100%);
            border: 1px solid rgba(226, 232, 240, 0.5);
        }
        
        .dark .chart-container {
            background: linear-gradient(145deg, #1e293b 0%, #0f172a 100%);
            border: 1px solid rgba(55, 65, 81, 0.5);
        }
        
        .performance-segment {
            background: linear-gradient(90deg, rgba(99, 102, 241, 0.05) 0%, rgba(139, 92, 246, 0.05) 100%);
            border-left: 4px solid #6366f1;
        }
        
        .dark .performance-segment {
            background: linear-gradient(90deg, rgba(99, 102, 241, 0.1) 0%, rgba(139, 92, 246, 0.1) 100%);
        }

        /* Mobile optimizations */
        @media (max-width: 768px) {
            .mobile-hidden {
                display: none;
            }
            .mobile-stack {
                flex-direction: column;
            }
            .mobile-full {
                width: 100%;
            }
        }

        /* Tablet optimizations */
        @media (min-width: 769px) and (max-width: 1024px) {
            .tablet-grid-2 {
                grid-template-columns: repeat(2, 1fr);
            }
            .tablet-grid-3 {
                grid-template-columns: repeat(3, 1fr);
            }
            .tablet-stack {
                flex-direction: column;
            }
        }

        /* Enhanced mobile/tablet responsiveness */
        @media (max-width: 768px) {
            /* Fix dropdown positioning - ensure proper mobile behavior */
            .filter-dropdown .dropdown-menu {
                position: fixed !important;
                top: auto !important;
                left: 0 !important;
                right: 0 !important;
                width: 100vw !important;
                max-height: 60vh !important;
                overflow-y: auto !important;
                z-index: 99999 !important;
                margin-top: 0 !important;
                border-radius: 0 !important;
                border-left: none !important;
                border-right: none !important;
                border-bottom: none !important;
                transform: translateY(0) !important;
            }
            
            /* Fix filter grid on mobile */
            #filter-grid {
                display: block !important;
            }
            
            .filter-dropdown {
                width: 100% !important;
                margin-bottom: 1rem !important;
            }
            
            /* Ensure proper spacing */
            .filter-btn {
                min-height: 48px !important;
                touch-action: manipulation !important;
            }
            
            /* Improve chart containers on mobile */
            .chart-container {
                margin-bottom: 1rem;
            }
            
            /* Mobile-specific chart sizing */
            .chart-container canvas {
                max-height: 200px !important;
            }
            
            /* Prevent content overflow */
            .metric-card {
                overflow: hidden;
            }
            
            /* Better mobile header spacing */
            .mobile-header-spacing {
                padding-top: 4rem;
            }
        }

        @media (max-width: 640px) {
            /* Extra small devices */
            .chart-container canvas {
                max-height: 150px !important;
            }
            
            /* Tighter mobile spacing */
            .mobile-compact {
                padding: 0.5rem;
                gap: 0.5rem;
            }
        }
        
        /* Filter dropdown fixes */
        .filter-container {
            position: relative;
            z-index: 10;
        }
        
        .dropdown-menu {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            margin-top: 0.5rem;
            background: inherit;
            border: inherit;
            border-radius: inherit;
            box-shadow: inherit;
            z-index: 9999;
            backdrop-filter: blur(8px);
        }
    </style>
</head>

<body class="bg-background-light dark:bg-background-dark font-display text-text-light dark:text-text-dark">
    <!-- Mobile Menu Overlay -->
    <div id="mobile-menu-overlay" class="fixed inset-0 bg-black/50 z-[9999] hidden lg:hidden">
        <div class="w-64 h-full bg-card-light dark:bg-card-dark shadow-xl transform -translate-x-full transition-transform duration-300 ease-in-out" id="mobile-menu">
            <div class="p-4 border-b border-border-light dark:border-border-dark">
                <div class="flex items-center justify-between">
                    <div class="flex items-center gap-3">
                        <div class="bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuAe1DuBqgz-Dwzu6hPDQwfhWeHZnB0RG99sLofEPVPjidVTASZwxNy87zjeElIoFK2VzO-xiNqmgJZAmGOs9CtRkTZdk_XDLwJLPh9a6Ayhd1Ny_NPNoj0XZy6Xu99spoMz4rnkc4yHWeB-buhibpyow8DSctTZYGnXOm6_AHW8lGiOxZkvquZnETyzcK92b_gsspxWUF4VEIjw3OTNAjOP-WtJCvHysrmTLslbIKYB_LDHTd21IFECqk2W6OOPncmPq3VYTrHDrWY");'></div>
                        <div>
                            <h2 class="text-text-light dark:text-text-dark text-base font-bold">TABSONS</h2>
                            <p class="text-subtle-text-light dark:text-subtle-text-dark text-sm">Workspace</p>
                        </div>
                    </div>
                    <button id="close-mobile-menu" class="p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg lg:hidden">
                        <span class="material-symbols-outlined text-gray-500">close</span>
                    </button>
                </div>
            </div>
            <nav class="p-4 flex-1 overflow-y-auto">
                <div class="flex flex-col gap-2">
                    <a class="flex items-center gap-3 px-3 py-3 rounded-lg bg-primary/10 dark:bg-primary/20 text-primary min-h-[48px]" href="index.html">
                        <span class="material-symbols-outlined">dashboard</span>
                        <p class="text-sm font-medium leading-normal">Dashboard</p>
                    </a>
                    <a class="flex items-center gap-3 px-3 py-3 text-subtle-text-light dark:text-subtle-text-dark hover:bg-gray-100 dark:hover:bg-gray-700/50 rounded-lg min-h-[48px]" href="campaign.html">
                        <span class="material-symbols-outlined">campaign</span>
                        <p class="text-sm font-medium leading-normal">Campaigns</p>
                    </a>
                    <a class="flex items-center gap-3 px-3 py-3 text-subtle-text-light dark:text-subtle-text-dark hover:bg-gray-100 dark:hover:bg-gray-700/50 rounded-lg min-h-[48px]" href="audience.html">
                        <span class="material-symbols-outlined">groups</span>
                        <p class="text-sm font-medium leading-normal">Audience</p>
                    </a>
                    <a class="flex items-center gap-3 px-3 py-3 text-subtle-text-light dark:text-subtle-text-dark hover:bg-gray-100 dark:hover:bg-gray-700/50 rounded-lg min-h-[48px]" href="reports.html">
                        <span class="material-symbols-outlined">analytics</span>
                        <p class="text-sm font-medium leading-normal">Reports</p>
                    </a>
                </div>
                <div class="mt-8 flex flex-col gap-2">
                    <a class="flex items-center gap-3 px-3 py-3 text-subtle-text-light dark:text-subtle-text-dark hover:bg-gray-100 dark:hover:bg-gray-700/50 rounded-lg min-h-[48px]" href="#">
                        <span class="material-symbols-outlined">settings</span>
                        <p class="text-sm font-medium leading-normal">Settings</p>
                    </a>
                    <a class="flex items-center gap-3 px-3 py-3 text-subtle-text-light dark:text-subtle-text-dark hover:bg-gray-100 dark:hover:bg-gray-700/50 rounded-lg min-h-[48px]" href="#">
                        <span class="material-symbols-outlined">help</span>
                        <p class="text-sm font-medium leading-normal">Support</p>
                    </a>
                </div>
            </nav>
        </div>
    </div>

    <div class="flex h-screen overflow-hidden">
        <!-- Desktop Sidebar -->
        <aside class="hidden lg:flex w-64 flex-col border-r border-border-light dark:border-border-dark bg-card-light dark:bg-card-dark p-4">
             <div class="flex-shrink-0">
                <div class="flex items-center gap-3">
                    <div class="bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuAe1DuBqgz-Dwzu6hPDQwfhWeHZnB0RG99sLofEPVPjidVTASZwxNy87zjeElIoFK2VzO-xiNqmgJZAmGOs9CtRkTZdk_XDLwJLPh9a6Ayhd1Ny_NPNoj0XZy6Xu99spoMz4rnkc4yHWeB-buhibpyow8DSctTZYGnXOm6_AHW8lGiOxZkvquZnETyzcK92b_gsspxWUF4VEIjw3OTNAjOP-WtJCvHysrmTLslbIKYB_LDHTd21IFECqk2W6OOPncmPq3VYTrHDrWY");'></div>
                    <div class="flex flex-col">
                        <h1 class="text-text-light dark:text-text-dark text-base font-bold leading-normal">TABSONS</h1>
                        <p class="text-subtle-text-light dark:text-subtle-text-dark text-sm font-normal leading-normal">Workspace</p>
                    </div>
                </div>
                <nav class="mt-8 flex flex-col gap-2">
                    <a class="flex items-center gap-3 px-3 py-2 rounded-lg bg-primary/10 dark:bg-primary/20 text-primary" href="index.html"><span class="material-symbols-outlined">dashboard</span><p class="text-sm font-medium leading-normal">Dashboard</p></a>
                    <a class="flex items-center gap-3 px-3 py-2 text-subtle-text-light dark:text-subtle-text-dark hover:bg-gray-100 dark:hover:bg-gray-700/50 rounded-lg" href="campaign.html"><span class="material-symbols-outlined">campaign</span><p class="text-sm font-medium leading-normal">Campaigns</p></a>
                    <a class="flex items-center gap-3 px-3 py-2 text-subtle-text-light dark:text-subtle-text-dark hover:bg-gray-100 dark:hover:bg-gray-700/50 rounded-lg" href="audience.html"><span class="material-symbols-outlined">groups</span><p class="text-sm font-medium leading-normal">Audience</p></a>
                    <a class="flex items-center gap-3 px-3 py-2 text-subtle-text-light dark:text-subtle-text-dark hover:bg-gray-100 dark:hover:bg-gray-700/50 rounded-lg" href="reports.html"><span class="material-symbols-outlined">analytics</span><p class="text-sm font-medium leading-normal">Reports</p></a>
                </nav>
            </div>
            <div class="mt-auto flex flex-col gap-2">
                <a class="flex items-center gap-3 px-3 py-2 text-subtle-text-light dark:text-subtle-text-dark hover:bg-gray-100 dark:hover:bg-gray-700/50 rounded-lg" href="#"><span class="material-symbols-outlined">settings</span><p class="text-sm font-medium leading-normal">Settings</p></a>
                <a class="flex items-center gap-3 px-3 py-2 text-subtle-text-light dark:text-subtle-text-dark hover:bg-gray-100 dark:hover:bg-gray-700/50 rounded-lg" href="#"><span class="material-symbols-outlined">help</span><p class="text-sm font-medium leading-normal">Support</p></a>
            </div>
        </aside>

        <!-- Mobile Header -->
        <div class="lg:hidden fixed top-0 left-0 right-0 z-30 bg-card-light dark:bg-card-dark border-b border-border-light dark:border-border-dark">
            <div class="flex items-center justify-between p-4">
                <button id="mobile-menu-button" class="p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg">
                    <span class="material-symbols-outlined text-gray-600 dark:text-gray-400">menu</span>
                </button>
                <div class="flex items-center gap-2">
                    <div class="bg-center bg-no-repeat aspect-square bg-cover rounded-full size-8" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuAe1DuBqgz-Dwzu6hPDQwfhWeHZnB0RG99sLofEPVPjidVTASZwxNy87zjeElIoFK2VzO-xiNqmgJZAmGOs9CtRkTZdk_XDLwJLPh9a6Ayhd1Ny_NPNoj0XZy6Xu99spoMz4rnkc4yHWeB-buhibpyow8DSctTZYGnXOm6_AHW8lGiOxZkvquZnETyzcK92b_gsspxWUF4VEIjw3OTNAjOP-WtJCvHysrmTLslbIKYB_LDHTd21IFECqk2W6OOPncmPq3VYTrHDrWY");'></div>
                    <span class="text-text-light dark:text-text-dark font-semibold">Dashboard</span>
                </div>
                <button id="theme-toggle-mobile" class="p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg">
                    <span id="theme-icon-mobile" class="material-symbols-outlined text-gray-600 dark:text-gray-400">dark_mode</span>
                </button>
            </div>
        </div>

        <!-- Main Content -->
        <main class="flex-1 overflow-y-auto pt-16 lg:pt-0 pb-20 lg:pb-0">
            <div class="p-4 sm:p-6 lg:p-8 space-y-4 lg:space-y-8 animate-fade-in">
                <!-- Enhanced Header -->
                <div class="gradient-bg rounded-2xl p-4 sm:p-6 lg:p-8 text-white relative overflow-hidden">
                    <div class="absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -translate-y-32 translate-x-32"></div>
                    <div class="absolute bottom-0 left-0 w-48 h-48 bg-white/10 rounded-full translate-y-24 -translate-x-24"></div>
                    <div class="relative z-10">
                        <div class="flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4">
                            <div class="flex flex-col gap-3 w-full lg:w-auto">
                                <h1 class="text-2xl sm:text-3xl lg:text-4xl font-bold leading-tight tracking-tight">Integrated Media Advertisement Dashboard</h1>
                                <p class="text-white/90 text-base lg:text-lg font-normal leading-relaxed">Comprehensive insights into your marketing performance across all channels</p>
                                <div class="flex flex-wrap items-center gap-4 lg:gap-6 text-white/80">
                                    <div class="flex items-center gap-2">
                                        <span class="material-symbols-outlined text-base lg:text-lg">analytics</span>
                                        <span class="text-xs sm:text-sm font-medium">Real-time Analytics</span>
                                    </div>
                                    <div class="flex items-center gap-2">
                                        <span class="material-symbols-outlined text-base lg:text-lg">trending_up</span>
                                        <span class="text-xs sm:text-sm font-medium">+15.3% Growth This Month</span>
                                    </div>
                                    <div class="flex items-center gap-2">
                                        <span class="material-symbols-outlined text-base lg:text-lg">people</span>
                                        <span class="text-xs sm:text-sm font-medium">82.3K Active Users</span>
                                    </div>
                                </div>
                            </div>
                            <div class="flex flex-wrap items-center gap-2 sm:gap-3 w-full lg:w-auto">
                                <button id="theme-toggle" class="flex items-center justify-center gap-2 rounded-lg h-10 sm:h-12 px-3 sm:px-4 bg-white/20 text-white border border-white/30 text-xs sm:text-sm font-medium leading-normal hover:bg-white/30 backdrop-blur-sm flex-1 lg:flex-none">
                                    <span id="theme-icon" class="material-symbols-outlined text-base">light_mode</span>
                                    <span id="theme-text">Light</span>
                                </button>
                                <button id="share-btn" class="flex items-center justify-center gap-2 rounded-lg h-10 sm:h-12 px-3 sm:px-4 bg-white/20 text-white border border-white/30 text-xs sm:text-sm font-medium leading-normal hover:bg-white/30 backdrop-blur-sm flex-1 lg:flex-none"><span class="material-symbols-outlined text-base">ios_share</span><span class="hidden sm:inline">Share</span></button>
                                <button id="export-btn" class="flex items-center justify-center gap-2 rounded-lg h-10 sm:h-12 px-3 sm:px-4 bg-white text-primary text-xs sm:text-sm font-medium leading-normal hover:bg-gray-100 shadow-sm flex-1 lg:flex-none"><span class="material-symbols-outlined text-base">download</span><span class="hidden sm:inline">Export</span></button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Enhanced Filters Section -->
                <div class="chart-container rounded-2xl border border-border-light dark:border-border-dark p-4 lg:p-6 shadow-sm">
                    <div class="flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4 mb-4">
                        <div>
                            <h3 class="text-base lg:text-lg font-semibold text-text-light dark:text-text-dark">Dashboard Filters</h3>
                            <p class="text-xs lg:text-sm text-subtle-text-light dark:text-subtle-text-dark">Customize your analytics view with advanced filtering options</p>
                        </div>
                        <div class="flex items-center gap-2">
                            <button id="save-filter-preset" class="flex items-center gap-2 rounded-lg bg-primary/10 dark:bg-primary/20 px-3 py-2 text-xs sm:text-sm font-medium text-primary hover:bg-primary/20 transition-colors">
                                <span class="material-symbols-outlined text-sm">bookmark</span>
                                <span class="hidden sm:inline">Save</span>
                            </button>
                            <button id="filter-presets" class="flex items-center gap-2 rounded-lg bg-purple-100 dark:bg-purple-500/20 px-3 py-2 text-xs sm:text-sm font-medium text-purple-700 dark:text-purple-300 hover:bg-purple-200 dark:hover:bg-purple-500/30 transition-colors">
                                <span class="material-symbols-outlined text-sm">library_books</span>
                                <span class="hidden sm:inline">Presets</span>
                            </button>
                            <button id="reset-filters" class="flex items-center gap-2 rounded-lg bg-gray-200 dark:bg-gray-700 px-3 py-2 text-xs sm:text-sm font-medium text-gray-800 dark:text-white hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors">
                                <span class="material-symbols-outlined text-sm">refresh</span>
                                <span class="hidden sm:inline">Reset</span>
                            </button>
                            <button id="toggle-filter-panel" class="flex items-center gap-2 rounded-lg bg-gray-100 dark:bg-gray-800 px-3 py-2 text-xs sm:text-sm font-medium text-text-light dark:text-text-dark hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors lg:hidden">
                                <span class="material-symbols-outlined text-sm">tune</span>
                                <span>Filters</span>
                            </button>
                            <span class="material-symbols-outlined text-primary text-xl hidden lg:block">tune</span>
                        </div>
                    </div>
                    
                    <!-- Filter Panel Header with Search -->
                    <div class="flex flex-col sm:flex-row gap-3 mb-4">
                        <div class="relative flex-1 lg:w-80">
                            <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-subtle-text-light dark:text-subtle-text-dark text-sm">search</span>
                            <input id="filter-search" class="h-10 w-full rounded-lg border border-border-light dark:border-border-dark bg-gray-50 dark:bg-gray-800/50 pl-10 pr-4 text-xs sm:text-sm text-text-light dark:text-text-dark focus:border-primary focus:ring-primary" placeholder="Search filter options..." type="search"/>
                        </div>
                        <div class="flex items-center gap-2">
                            <button id="select-all-filters" class="flex items-center gap-1 rounded-lg bg-blue-50 dark:bg-blue-500/20 px-3 py-2 text-xs sm:text-sm font-medium text-blue-700 dark:text-blue-300 hover:bg-blue-100 dark:hover:bg-blue-500/30 transition-colors">
                                <span class="material-symbols-outlined text-sm">select_all</span>
                                <span class="hidden sm:inline">Select All</span>
                            </button>
                            <button id="clear-all-filters" class="flex items-center gap-1 rounded-lg bg-red-50 dark:bg-red-500/20 px-3 py-2 text-xs sm:text-sm font-medium text-red-700 dark:text-red-300 hover:bg-red-100 dark:hover:bg-red-500/30 transition-colors">
                                <span class="material-symbols-outlined text-sm">clear_all</span>
                                <span class="hidden sm:inline">Clear All</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Active Filters Summary -->
                    <div id="active-filters-summary" class="mb-4 hidden">
                        <div class="flex items-center gap-2 mb-2">
                            <span class="text-xs font-medium text-subtle-text-light dark:text-subtle-text-dark">Active Filters:</span>
                            <button id="clear-active-filters" class="text-xs text-red-600 dark:text-red-400 hover:underline">Clear All</button>
                        </div>
                        <div class="flex flex-wrap gap-2" id="active-filters-list"></div>
                    </div>
                    
<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-6 gap-3 lg:gap-4" id="filter-grid">
    
    <!-- Enhanced Date Filter with Search -->
    <div class="relative filter-dropdown enhanced-filter" data-filter="date">
        <button class="filter-btn flex w-full h-12 items-center justify-between gap-x-3 rounded-xl bg-card-light dark:bg-card-dark border border-border-light dark:border-border-dark px-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 group">
            <div class="flex items-center gap-x-3">
                <div class="w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center group-hover:scale-110 transition-transform">
                    <span class="material-symbols-outlined text-white text-sm">calendar_today</span>
                </div>
                <div class="flex flex-col items-start">
                    <p class="text-text-light dark:text-text-dark text-xs sm:text-sm font-semibold filter-text">Last 30 Days</p>
                    <p class="text-xs text-subtle-text-light dark:text-subtle-text-dark hidden sm:block">Date Range</p>
                </div>
            </div>
            <div class="flex items-center gap-1">
                <div class="w-2 h-2 rounded-full bg-green-500 hidden filter-indicator"></div>
                <span class="material-symbols-outlined text-lg text-subtle-text-light dark:text-subtle-text-dark">expand_more</span>
            </div>
        </button>
        <div class="dropdown-menu absolute top-full left-0 right-0 mt-2 bg-card-light dark:bg-card-dark border border-border-light dark:border-border-dark rounded-xl shadow-xl z-[9999] hidden backdrop-blur-sm max-h-80 overflow-y-auto">
            <div class="p-2">
                <div class="relative mb-2">
                    <span class="material-symbols-outlined absolute left-2 top-1/2 -translate-y-1/2 text-subtle-text-light dark:text-subtle-text-dark text-sm">search</span>
                    <input class="w-full h-8 rounded-lg border border-border-light dark:border-border-dark bg-gray-50 dark:bg-gray-800/50 pl-8 pr-3 text-xs text-text-light dark:text-text-dark focus:border-primary focus:ring-primary" placeholder="Search dates..." type="search"/>
                </div>
                <div class="space-y-1 filter-options">
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="Last 7 Days">Last 7 Days</button>
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="Last 30 Days">Last 30 Days</button>
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="This Month">This Month</button>
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="Last Month">Last Month</button>
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="This Quarter">This Quarter</button>
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="Last Quarter">Last Quarter</button>
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="This Year">This Year</button>
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="Last Year">Last Year</button>
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="Custom Range">📅 Custom Range</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Enhanced Channel Filter with Multi-select -->
    <div class="relative filter-dropdown enhanced-filter" data-filter="channel">
        <button class="filter-btn flex w-full h-12 items-center justify-between gap-x-3 rounded-xl bg-card-light dark:bg-card-dark border border-border-light dark:border-border-dark px-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 group">
            <div class="flex items-center gap-x-3">
                <div class="w-8 h-8 rounded-lg bg-gradient-to-br from-green-500 to-emerald-600 flex items-center justify-center group-hover:scale-110 transition-transform">
                    <span class="material-symbols-outlined text-white text-sm">tune</span>
                </div>
                <div class="flex flex-col items-start">
                    <p class="text-text-light dark:text-text-dark text-xs sm:text-sm font-semibold filter-text">All Channels</p>
                    <p class="text-xs text-subtle-text-light dark:text-subtle-text-dark hidden sm:block">Media Channels</p>
                </div>
            </div>
            <div class="flex items-center gap-1">
                <div class="w-2 h-2 rounded-full bg-green-500 hidden filter-indicator"></div>
                <span class="material-symbols-outlined text-lg text-subtle-text-light dark:text-subtle-text-dark">expand_more</span>
            </div>
        </button>
        <div class="dropdown-menu absolute top-full left-0 right-0 mt-2 bg-card-light dark:bg-card-dark border border-border-light dark:border-border-dark rounded-xl shadow-xl z-[9999] hidden backdrop-blur-sm max-h-80 overflow-y-auto">
            <div class="p-2">
                <div class="flex items-center justify-between mb-2 pb-2 border-b border-border-light dark:border-border-dark">
                    <button class="select-all-options text-xs text-primary hover:underline">Select All</button>
                    <button class="clear-all-options text-xs text-red-600 hover:underline">Clear All</button>
                </div>
                <div class="space-y-1 filter-options">
                    <label class="flex items-center gap-2 px-2 py-1 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer">
                        <input type="checkbox" class="dropdown-checkbox" data-value="TV" checked>
                        <span class="text-xs sm:text-sm">📺 TV</span>
                    </label>
                    <label class="flex items-center gap-2 px-2 py-1 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer">
                        <input type="checkbox" class="dropdown-checkbox" data-value="Print" checked>
                        <span class="text-xs sm:text-sm">📰 Print</span>
                    </label>
                    <label class="flex items-center gap-2 px-2 py-1 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer">
                        <input type="checkbox" class="dropdown-checkbox" data-value="Digital" checked>
                        <span class="text-xs sm:text-sm">💻 Digital</span>
                    </label>
                    <label class="flex items-center gap-2 px-2 py-1 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer">
                        <input type="checkbox" class="dropdown-checkbox" data-value="Social" checked>
                        <span class="text-xs sm:text-sm">📱 Social Media</span>
                    </label>
                    <label class="flex items-center gap-2 px-2 py-1 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer">
                        <input type="checkbox" class="dropdown-checkbox" data-value="Radio" checked>
                        <span class="text-xs sm:text-sm">📻 Radio</span>
                    </label>
                    <label class="flex items-center gap-2 px-2 py-1 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer">
                        <input type="checkbox" class="dropdown-checkbox" data-value="OOH" checked>
                        <span class="text-xs sm:text-sm">🏙️ Out of Home</span>
                    </label>
                </div>
                <div class="mt-2 pt-2 border-t border-border-light dark:border-border-dark">
                    <button class="apply-multi-select w-full px-3 py-2 bg-primary text-white rounded-lg text-xs hover:bg-primary/90 transition-colors">Apply Selection</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Enhanced Campaign Filter -->
    <div class="relative filter-dropdown enhanced-filter" data-filter="campaign">
        <button class="filter-btn flex w-full h-12 items-center justify-between gap-x-3 rounded-xl bg-card-light dark:bg-card-dark border border-border-light dark:border-border-dark px-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 group">
            <div class="flex items-center gap-x-3">
                <div class="w-8 h-8 rounded-lg bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center group-hover:scale-110 transition-transform">
                    <span class="material-symbols-outlined text-white text-sm">campaign</span>
                </div>
                <div class="flex flex-col items-start">
                    <p class="text-text-light dark:text-text-dark text-xs sm:text-sm font-semibold filter-text">All Campaigns</p>
                    <p class="text-xs text-subtle-text-light dark:text-subtle-text-dark hidden sm:block">Active Campaigns</p>
                </div>
            </div>
            <div class="flex items-center gap-1">
                <div class="w-2 h-2 rounded-full bg-green-500 hidden filter-indicator"></div>
                <span class="material-symbols-outlined text-lg text-subtle-text-light dark:text-subtle-text-dark">expand_more</span>
            </div>
        </button>
        <div class="dropdown-menu absolute top-full left-0 right-0 mt-2 bg-card-light dark:bg-card-dark border border-border-light dark:border-border-dark rounded-xl shadow-xl z-[9999] hidden backdrop-blur-sm max-h-80 overflow-y-auto">
            <div class="p-2">
                <div class="relative mb-2">
                    <span class="material-symbols-outlined absolute left-2 top-1/2 -translate-y-1/2 text-subtle-text-light dark:text-subtle-text-dark text-sm">search</span>
                    <input class="w-full h-8 rounded-lg border border-border-light dark:border-border-dark bg-gray-50 dark:bg-gray-800/50 pl-8 pr-3 text-xs text-text-light dark:text-text-dark focus:border-primary focus:ring-primary" placeholder="Search campaigns..." type="search"/>
                </div>
                <div class="space-y-1 filter-options">
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="All Campaigns">🌟 All Campaigns</button>
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="Summer Sale 2024">☀️ Summer Sale 2024</button>
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="Holiday Push">🎄 Holiday Push</button>
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="Brand Awareness">💡 Brand Awareness</button>
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="Product Launch">🚀 Product Launch</button>
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="Back to School">🎒 Back to School</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Enhanced Region Filter -->
    <div class="relative filter-dropdown enhanced-filter" data-filter="region">
        <button class="filter-btn flex w-full h-12 items-center justify-between gap-x-3 rounded-xl bg-card-light dark:bg-card-dark border border-border-light dark:border-border-dark px-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 group">
            <div class="flex items-center gap-x-3">
                <div class="w-8 h-8 rounded-lg bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center group-hover:scale-110 transition-transform">
                    <span class="material-symbols-outlined text-white text-sm">public</span>
                </div>
                <div class="flex flex-col items-start">
                    <p class="text-text-light dark:text-text-dark text-xs sm:text-sm font-semibold filter-text">Global</p>
                    <p class="text-xs text-subtle-text-light dark:text-subtle-text-dark hidden sm:block">Geographic Region</p>
                </div>
            </div>
            <div class="flex items-center gap-1">
                <div class="w-2 h-2 rounded-full bg-green-500 hidden filter-indicator"></div>
                <span class="material-symbols-outlined text-lg text-subtle-text-light dark:text-subtle-text-dark">expand_more</span>
            </div>
        </button>
        <div class="dropdown-menu absolute top-full left-0 right-0 mt-2 bg-card-light dark:bg-card-dark border border-border-light dark:border-border-dark rounded-xl shadow-xl z-[9999] hidden backdrop-blur-sm max-h-80 overflow-y-auto">
            <div class="p-2">
                <div class="space-y-1 filter-options">
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="All Regions">🌍 All Regions</button>
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="North America">🇺🇸 North America</button>
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="Europe">🇪🇺 Europe</button>
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="Asia">🌏 Asia</button>
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="Australia">🇦🇺 Australia</button>
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="South America">🌎 South America</button>
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="Africa">🌍 Africa</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Enhanced Language Filter -->
    <div class="relative filter-dropdown enhanced-filter" data-filter="language">
        <button class="filter-btn flex w-full h-12 items-center justify-between gap-x-3 rounded-xl bg-card-light dark:bg-card-dark border border-border-light dark:border-border-dark px-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 group">
            <div class="flex items-center gap-x-3">
                <div class="w-8 h-8 rounded-lg bg-gradient-to-br from-indigo-500 to-blue-600 flex items-center justify-center group-hover:scale-110 transition-transform">
                    <span class="material-symbols-outlined text-white text-sm">language</span>
                </div>
                <div class="flex flex-col items-start">
                    <p class="text-text-light dark:text-text-dark text-xs sm:text-sm font-semibold filter-text">English</p>
                    <p class="text-xs text-subtle-text-light dark:text-subtle-text-dark hidden sm:block">Content Language</p>
                </div>
            </div>
            <div class="flex items-center gap-1">
                <div class="w-2 h-2 rounded-full bg-green-500 hidden filter-indicator"></div>
                <span class="material-symbols-outlined text-lg text-subtle-text-light dark:text-subtle-text-dark">expand_more</span>
            </div>
        </button>
        <div class="dropdown-menu absolute top-full left-0 right-0 mt-2 bg-card-light dark:bg-card-dark border border-border-light dark:border-border-dark rounded-xl shadow-xl z-[9999] hidden backdrop-blur-sm max-h-80 overflow-y-auto">
            <div class="p-2">
                <div class="space-y-1 filter-options">
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="All Languages">🌐 All Languages</button>
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="English">🇺🇸 English</button>
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="Spanish">🇪🇸 Spanish</button>
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="French">🇫🇷 French</button>
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="German">🇩🇪 German</button>
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="Italian">🇮🇹 Italian</button>
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="Portuguese">🇧🇷 Portuguese</button>
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="Chinese">🇨🇳 Chinese</button>
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="Japanese">🇯🇵 Japanese</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Enhanced Source Filter -->
    <div class="relative filter-dropdown enhanced-filter" data-filter="source">
        <button class="filter-btn flex w-full h-12 items-center justify-between gap-x-3 rounded-xl bg-card-light dark:bg-card-dark border border-border-light dark:border-border-dark px-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 group">
            <div class="flex items-center gap-x-3">
                <div class="w-8 h-8 rounded-lg bg-gradient-to-br from-teal-500 to-cyan-600 flex items-center justify-center group-hover:scale-110 transition-transform">
                    <span class="material-symbols-outlined text-white text-sm">share</span>
                </div>
                <div class="flex flex-col items-start">
                    <p class="text-text-light dark:text-text-dark text-xs sm:text-sm font-semibold filter-text">All Sources</p>
                    <p class="text-xs text-subtle-text-light dark:text-subtle-text-dark hidden sm:block">Traffic Sources</p>
                </div>
            </div>
            <div class="flex items-center gap-1">
                <div class="w-2 h-2 rounded-full bg-green-500 hidden filter-indicator"></div>
                <span class="material-symbols-outlined text-lg text-subtle-text-light dark:text-subtle-text-dark">expand_more</span>
            </div>
        </button>
        <div class="dropdown-menu absolute top-full left-0 right-0 mt-2 bg-card-light dark:bg-card-dark border border-border-light dark:border-border-dark rounded-xl shadow-xl z-[9999] hidden backdrop-blur-sm max-h-80 overflow-y-auto">
            <div class="p-2">
                <div class="space-y-1 filter-options">
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="All Sources">🔗 All Sources</button>
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="Google Ads">🔍 Google Ads</button>
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="Facebook">📘 Facebook</button>
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="Instagram">📷 Instagram</button>
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="LinkedIn">💼 LinkedIn</button>
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="Twitter">🐦 Twitter</button>
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="TikTok">🎵 TikTok</button>
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="YouTube">📺 YouTube</button>
                    <button class="dropdown-option w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-xs sm:text-sm" data-value="Email">✉️ Email Marketing</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Filter Stats and Quick Actions -->
<div class="mt-4 pt-4 border-t border-border-light dark:border-border-dark">
    <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4">
        <div class="flex items-center gap-4 text-xs text-subtle-text-light dark:text-subtle-text-dark">
            <span id="filter-stats">6 filters active</span>
            <span class="hidden sm:inline">•</span>
            <span>Updated <span id="last-filter-update">just now</span></span>
        </div>
        <div class="flex items-center gap-2">
            <button id="share-filter-config" class="flex items-center gap-1 rounded-lg bg-gray-100 dark:bg-gray-800 px-3 py-1 text-xs font-medium text-text-light dark:text-text-dark hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors">
                <span class="material-symbols-outlined text-sm">share</span>
                Share
            </button>
            <button id="export-filter-config" class="flex items-center gap-1 rounded-lg bg-gray-100 dark:bg-gray-800 px-3 py-1 text-xs font-medium text-text-light dark:text-text-dark hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors">
                <span class="material-symbols-outlined text-sm">download</span>
                Export
            </button>
        </div>
    </div>
</div>

                <!-- Enhanced KPI Cards -->
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 lg:gap-6 animate-slide-up">
                    <div class="metric-card rounded-2xl p-4 lg:p-6 hover:scale-105 transition-all duration-300">
                        <div class="flex items-center justify-between">
                            <div class="flex-1">
                                <p class="text-subtle-text-light dark:text-subtle-text-dark text-xs lg:text-sm font-semibold mb-2">Total Impressions</p>
                                <div class="flex items-baseline gap-2">
                                    <p class="text-2xl lg:text-4xl font-black bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">2.8M</p>
                                    <div class="flex items-center gap-1">
                                        <span class="material-symbols-outlined text-green-500 text-xs">trending_up</span>
                                        <p class="text-green-500 text-xs font-bold">+12.4%</p>
                                    </div>
                                </div>
                                <p class="text-xs text-subtle-text-light dark:text-subtle-text-dark mt-1">vs last month</p>
                            </div>
                            <div class="w-10 h-10 lg:w-14 lg:h-14 rounded-2xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg ml-2">
                                <span class="material-symbols-outlined text-white text-lg lg:text-2xl">visibility</span>
                            </div>
                        </div>
                    </div>
                    <div class="metric-card rounded-2xl p-4 lg:p-6 hover:scale-105 transition-all duration-300">
                        <div class="flex items-center justify-between">
                            <div class="flex-1">
                                <p class="text-subtle-text-light dark:text-subtle-text-dark text-xs lg:text-sm font-semibold mb-2">Total Reach</p>
                                <div class="flex items-baseline gap-2">
                                    <p class="text-2xl lg:text-4xl font-black bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent">1.9M</p>
                                    <div class="flex items-center gap-1">
                                        <span class="material-symbols-outlined text-green-500 text-xs">trending_up</span>
                                        <p class="text-green-500 text-xs font-bold">+18.7%</p>
                                    </div>
                                </div>
                                <p class="text-xs text-subtle-text-light dark:text-subtle-text-dark mt-1">unique viewers</p>
                            </div>
                            <div class="w-10 h-10 lg:w-14 lg:h-14 rounded-2xl bg-gradient-to-br from-green-500 to-emerald-600 flex items-center justify-center shadow-lg ml-2">
                                <span class="material-symbols-outlined text-white text-lg lg:text-2xl">people</span>
                            </div>
                        </div>
                    </div>
                    <div class="metric-card rounded-2xl p-4 lg:p-6 hover:scale-105 transition-all duration-300">
                        <div class="flex items-center justify-between">
                            <div class="flex-1">
                                <p class="text-subtle-text-light dark:text-subtle-text-dark text-xs lg:text-sm font-semibold mb-2">Total Spend</p>
                                <div class="flex items-baseline gap-2">
                                    <p class="text-2xl lg:text-4xl font-black bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent">$128K</p>
                                    <div class="flex items-center gap-1">
                                        <span class="material-symbols-outlined text-green-500 text-xs">trending_down</span>
                                        <p class="text-green-500 text-xs font-bold">-3.2%</p>
                                    </div>
                                </div>
                                <p class="text-xs text-subtle-text-light dark:text-subtle-text-dark mt-1">optimized spend</p>
                            </div>
                            <div class="w-10 h-10 lg:w-14 lg:h-14 rounded-2xl bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center shadow-lg ml-2">
                                <span class="material-symbols-outlined text-white text-lg lg:text-2xl">paid</span>
                            </div>
                        </div>
                    </div>
                    <div class="metric-card rounded-2xl p-4 lg:p-6 hover:scale-105 transition-all duration-300">
                        <div class="flex items-center justify-between">
                            <div class="flex-1">
                                <p class="text-subtle-text-light dark:text-subtle-text-dark text-xs lg:text-sm font-semibold mb-2">Click Rate</p>
                                <div class="flex items-baseline gap-2">
                                    <p class="text-2xl lg:text-4xl font-black bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent">4.7%</p>
                                    <div class="flex items-center gap-1">
                                        <span class="material-symbols-outlined text-green-500 text-xs">trending_up</span>
                                        <p class="text-green-500 text-xs font-bold">+0.9%</p>
                                    </div>
                                </div>
                                <p class="text-xs text-subtle-text-light dark:text-subtle-text-dark mt-1">above industry avg</p>
                            </div>
                            <div class="w-10 h-10 lg:w-14 lg:h-14 rounded-2xl bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center shadow-lg ml-2">
                                <span class="material-symbols-outlined text-white text-lg lg:text-2xl">touch_app</span>
                            </div>
                        </div>
                    </div>
                    <div class="metric-card rounded-2xl p-4 lg:p-6 hover:scale-105 transition-all duration-300">
                        <div class="flex items-center justify-between">
                            <div class="flex-1">
                                <p class="text-subtle-text-light dark:text-subtle-text-dark text-xs lg:text-sm font-semibold mb-2">Conversions</p>
                                <div class="flex items-baseline gap-2">
                                    <p class="text-2xl lg:text-4xl font-black bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent">15.2K</p>
                                    <div class="flex items-center gap-1">
                                        <span class="material-symbols-outlined text-green-500 text-xs">trending_up</span>
                                        <p class="text-green-500 text-xs font-bold">+24.3%</p>
                                    </div>
                                </div>
                                <p class="text-xs text-subtle-text-light dark:text-subtle-text-dark mt-1">high-value leads</p>
                            </div>
                            <div class="w-10 h-10 lg:w-14 lg:h-14 rounded-2xl bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center shadow-lg ml-2">
                                <span class="material-symbols-outlined text-white text-lg lg:text-2xl">trending_up</span>
                            </div>
                        </div>
                    </div>
                    <div class="metric-card rounded-2xl p-4 lg:p-6 hover:scale-105 transition-all duration-300">
                        <div class="flex items-center justify-between">
                            <div class="flex-1">
                                <p class="text-subtle-text-light dark:text-subtle-text-dark text-xs lg:text-sm font-semibold mb-2">ROI Multiple</p>
                                <div class="flex items-baseline gap-2">
                                    <p class="text-2xl lg:text-4xl font-black bg-gradient-to-r from-pink-600 to-rose-600 bg-clip-text text-transparent">5.8x</p>
                                    <div class="flex items-center gap-1">
                                        <span class="material-symbols-outlined text-green-500 text-xs">trending_up</span>
                                        <p class="text-green-500 text-xs font-bold">+1.2x</p>
                                    </div>
                                </div>
                                <p class="text-xs text-subtle-text-light dark:text-subtle-text-dark mt-1">return on investment</p>
                            </div>
                            <div class="w-10 h-10 lg:w-14 lg:h-14 rounded-2xl bg-gradient-to-br from-pink-500 to-rose-600 flex items-center justify-center shadow-lg ml-2">
                                <span class="material-symbols-outlined text-white text-lg lg:text-2xl">analytics</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Main Performance Chart Section -->
                <div class="chart-container rounded-2xl p-4 lg:p-6 shadow-sm">
                    <div class="flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4 mb-6">
                        <div>
                            <h3 class="text-lg lg:text-xl font-semibold text-text-light dark:text-text-dark">Performance Overview</h3>
                            <p class="text-xs lg:text-sm text-subtle-text-light dark:text-subtle-text-dark">Track key metrics across all channels</p>
                        </div>
                        <div class="flex flex-wrap items-center gap-2 lg:gap-3">
                            <div class="flex flex-wrap items-center gap-1 lg:gap-2 rounded-lg bg-gray-100 dark:bg-gray-800/60 p-1 text-xs lg:text-sm font-medium">
                                <button class="metric-btn rounded-md px-2 lg:px-3 py-1 lg:py-2 bg-card-light dark:bg-gray-700 text-primary dark:text-white shadow-sm transition-all duration-200" data-metric="impressions">Impressions</button>
                                <button class="metric-btn rounded-md px-2 lg:px-3 py-1 lg:py-2 hover:bg-gray-200/60 dark:hover:bg-gray-700/60 transition-all duration-200" data-metric="clicks">Clicks</button>
                                <button class="metric-btn rounded-md px-2 lg:px-3 py-1 lg:py-2 hover:bg-gray-200/60 dark:hover:bg-gray-700/60 transition-all duration-200" data-metric="conversions">Conversions</button>
                                <button class="metric-btn rounded-md px-2 lg:px-3 py-1 lg:py-2 hover:bg-gray-200/60 dark:hover:bg-gray-700/60 transition-all duration-200" data-metric="spend">Spend</button>
                            </div>
                        </div>
                    </div>
                    <div class="h-64 lg:h-80 w-full overflow-hidden">
                        <canvas id="performanceOverviewChart"></canvas>
                    </div>
                </div>

                <!-- Multi-Chart Grid -->
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6">
                    <!-- Content Performance -->
                    <div class="chart-container rounded-2xl p-4 lg:p-6 shadow-sm">
                        <div class="flex items-center justify-between mb-4">
                            <div>
                                <h3 class="text-base lg:text-lg font-semibold text-text-light dark:text-text-dark">Content Performance</h3>
                                <p class="text-xs lg:text-sm text-subtle-text-light dark:text-subtle-text-dark">Channel effectiveness analysis</p>
                            </div>
                            <span class="material-symbols-outlined text-blue-500 text-lg lg:text-xl">bar_chart</span>
                        </div>
                        <div class="h-48 lg:h-64">
                            <canvas id="contentPerformanceChart"></canvas>
                        </div>
                    </div>

                    <!-- Ad Spend by Media -->
                    <div class="chart-container rounded-2xl p-4 lg:p-6 shadow-sm">
                        <div class="flex items-center justify-between mb-4">
                            <div>
                                <h3 class="text-base lg:text-lg font-semibold text-text-light dark:text-text-dark">Ad Spend by Media</h3>
                                <p class="text-xs lg:text-sm text-subtle-text-light dark:text-subtle-text-dark">Budget allocation across campaigns</p>
                            </div>
                            <span class="material-symbols-outlined text-green-500 text-lg lg:text-xl">pie_chart</span>
                        </div>
                        <div class="h-48 lg:h-64">
                            <canvas id="adSpendChart"></canvas>
                        </div>
                    </div>

                    <!-- Share of Voice -->
                    <div class="chart-container rounded-2xl p-4 lg:p-6 shadow-sm">
                        <div class="flex items-center justify-between mb-4">
                            <div>
                                <h3 class="text-base lg:text-lg font-semibold text-text-light dark:text-text-dark">Share of Voice</h3>
                                <p class="text-xs lg:text-sm text-subtle-text-light dark:text-subtle-text-dark">Market presence by channel</p>
                            </div>
                            <span class="material-symbols-outlined text-purple-500 text-lg lg:text-xl">donut_small</span>
                        </div>
                        <div class="h-48 lg:h-64">
                            <canvas id="shareOfVoiceChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Advanced Analytics Section -->
                <div class="grid grid-cols-1 xl:grid-cols-3 gap-4 lg:gap-6">
                    <!-- Sentiment Analysis -->
                    <div class="xl:col-span-2 chart-container rounded-2xl p-4 lg:p-6 shadow-sm">
                        <div class="flex items-center justify-between mb-4">
                            <div>
                                <h3 class="text-base lg:text-lg font-semibold text-text-light dark:text-text-dark">Sentiment Analysis Over Time</h3>
                                <p class="text-xs lg:text-sm text-subtle-text-light dark:text-subtle-text-dark">Brand perception tracking</p>
                            </div>
                            <span class="material-symbols-outlined text-blue-500 text-lg lg:text-xl">sentiment_satisfied</span>
                        </div>
                        <div class="h-64 lg:h-80">
                            <canvas id="sentimentAnalysisChart"></canvas>
                        </div>
                    </div>

                    <!-- Genre-wise Viewership -->
                    <div class="chart-container rounded-2xl p-4 lg:p-6 shadow-sm">
                        <div class="flex items-center justify-between mb-4">
                            <div>
                                <h3 class="text-base lg:text-lg font-semibold text-text-light dark:text-text-dark">Genre-wise Viewership</h3>
                                <p class="text-xs lg:text-sm text-subtle-text-light dark:text-subtle-text-dark">Content category performance</p>
                            </div>
                            <span class="material-symbols-outlined text-orange-500 text-lg lg:text-xl">category</span>
                        </div>
                        <div class="h-64 lg:h-80">
                            <canvas id="genreViewershipChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Performance Analytics Grid -->
                <div class="grid grid-cols-1 xl:grid-cols-3 gap-4 lg:gap-6">
                    <!-- Ad Performance -->
                    <div class="xl:col-span-2 chart-container rounded-2xl p-4 lg:p-6 shadow-sm">
                        <div class="flex items-center justify-between mb-4">
                            <div>
                                <h3 class="text-base lg:text-lg font-semibold text-text-light dark:text-text-dark">Ad Performance Analysis</h3>
                                <p class="text-xs lg:text-sm text-subtle-text-light dark:text-subtle-text-dark">Cost vs. Reach vs. ROI correlation</p>
                            </div>
                            <span class="material-symbols-outlined text-green-500 text-lg lg:text-xl">scatter_plot</span>
                        </div>
                        <div class="h-64 lg:h-80">
                            <canvas id="adPerformanceChart"></canvas>
                        </div>
                    </div>

                    <!-- Predictive Campaign Impact -->
                    <div class="chart-container rounded-2xl p-4 lg:p-6 shadow-sm">
                        <div class="flex items-center justify-between mb-4">
                            <div>
                                <h3 class="text-base lg:text-lg font-semibold text-text-light dark:text-text-dark">Predictive Impact</h3>
                                <p class="text-xs lg:text-sm text-subtle-text-light dark:text-subtle-text-dark">Forecasted vs. actual performance</p>
                            </div>
                            <span class="material-symbols-outlined text-red-500 text-lg lg:text-xl">trending_up</span>
                        </div>
                        <div class="h-64 lg:h-80">
                            <canvas id="predictiveModelingChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Audience Demographics -->
                <div class="chart-container rounded-2xl p-4 lg:p-6 shadow-sm">
                    <div class="flex items-center justify-between mb-4">
                        <div>
                            <h3 class="text-base lg:text-lg font-semibold text-text-light dark:text-text-dark">Audience Demographics</h3>
                            <p class="text-xs lg:text-sm text-subtle-text-light dark:text-subtle-text-dark">Age and gender distribution analysis</p>
                        </div>
                        <span class="material-symbols-outlined text-purple-500 text-lg lg:text-xl">group</span>
                    </div>
                    <div class="h-56 lg:h-72">
                        <canvas id="audienceDemographicsChart"></canvas>
                    </div>
                </div>
            </div>
        </main>
        
        <!-- Footer -->
  <footer class="fixed bottom-0 left-0 right-0 z-20 bg-card-light dark:bg-card-dark border-t border-border-light dark:border-border-dark hidden lg:block">
       <div class="px-4 py-3">
           <div class="flex items-center justify-between">
               <span class="text-xs text-subtle-text-light dark:text-subtle-text-dark">© 2025 TABSONS. All rights reserved.</span>
               <span class="text-xs text-subtle-text-light dark:text-subtle-text-dark">Version 1.0</span>
           </div>
       </div>
   </footer>

   <!-- Mobile Footer - Inline -->
   <footer class="lg:hidden fixed bottom-0 left-0 right-0 z-20 bg-card-light dark:bg-card-dark border-t border-border-light dark:border-border-dark">
       <div class="px-4 py-3">
           <div class="flex items-center justify-between">
               <span class="text-xs text-subtle-text-light dark:text-subtle-text-dark">© 2025 TABSONS. All rights reserved.</span>
               <span class="text-xs text-subtle-text-light dark:text-subtle-text-dark">Version 1.0</span>
           </div>
       </div>
   </footer>

    </div>

    <script>
        // Apply theme immediately to prevent flash - execute before any content renders
        (function() {
            const savedTheme = localStorage.getItem('theme') || 'light';
            const theme = savedTheme === 'dark' ? 'dark' : 'light';
            document.documentElement.classList.toggle('dark', theme === 'dark');
            localStorage.setItem('theme', theme);
        })();
        
        document.addEventListener('DOMContentLoaded', function() {
            // --- MOBILE MENU FUNCTIONALITY ---
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenuOverlay = document.getElementById('mobile-menu-overlay');
            const mobileMenu = document.getElementById('mobile-menu');
            const closeMobileMenuBtn = document.getElementById('close-mobile-menu');

            if (mobileMenuButton && mobileMenuOverlay) {
                // Open mobile menu
                mobileMenuButton.addEventListener('click', function() {
                    mobileMenuOverlay.classList.remove('hidden');
                    setTimeout(() => {
                        mobileMenu.style.transform = 'translateX(0)';
                    }, 10);
                });

                // Close mobile menu
                function closeMobileMenu() {
                    mobileMenu.style.transform = 'translateX(-100%)';
                    setTimeout(() => {
                        mobileMenuOverlay.classList.add('hidden');
                    }, 300);
                }

                if (closeMobileMenuBtn) {
                    closeMobileMenuBtn.addEventListener('click', closeMobileMenu);
                }

                // Close menu when clicking overlay
                mobileMenuOverlay.addEventListener('click', function(e) {
                    if (e.target === mobileMenuOverlay) {
                        closeMobileMenu();
                    }
                });

                // Close menu when clicking on nav links
                const mobileNavLinks = mobileMenu.querySelectorAll('a');
                mobileNavLinks.forEach(link => {
                    link.addEventListener('click', closeMobileMenu);
                });
            }

            // --- THEME TOGGLE ---
            const themeToggleDesktop = document.getElementById('theme-toggle');
            const themeToggleMobile = document.getElementById('theme-toggle-mobile');
            const themeIconDesktop = document.getElementById('theme-icon');
            const themeIconMobile = document.getElementById('theme-icon-mobile');
            const themeTextDesktop = document.getElementById('theme-text');
            
            function updateThemeUI() {
                const isDark = document.documentElement.classList.contains('dark');
                if (themeIconDesktop) themeIconDesktop.textContent = isDark ? 'light_mode' : 'dark_mode';
                if (themeIconMobile) themeIconMobile.textContent = isDark ? 'light_mode' : 'dark_mode';
                if (themeTextDesktop) themeTextDesktop.textContent = isDark ? 'Light' : 'Dark';
            }
            
            function toggleTheme() {
                const isDark = document.documentElement.classList.toggle('dark');
                localStorage.setItem('theme', isDark ? 'dark' : 'light');
                updateThemeUI();
            }
            
            if (themeToggleDesktop) {
                themeToggleDesktop.addEventListener('click', toggleTheme);
            }
            if (themeToggleMobile) {
                themeToggleMobile.addEventListener('click', toggleTheme);
            }

            // --- CHART SETUP ---
            const isDarkMode = document.documentElement.classList.contains('dark');
            const gridColor = isDarkMode ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.05)';
            const tickColor = isDarkMode ? '#94A3B8' : '#64748B';

            Chart.defaults.font.family = 'Inter';
            Chart.defaults.color = tickColor;

            const channelColors = {
                tv: '#60A5FA', print: '#F59E0B', digital: '#34D399',
                social: '#A78BFA', radio: '#F87171', ooh: '#F472B6'
            };

            // --- ENHANCED PERFORMANCE OVERVIEW CHART ---
            const performanceCtx = document.getElementById('performanceOverviewChart').getContext('2d');
            new Chart(performanceCtx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct'],
                    datasets: [{
                        label: 'Impressions (M)',
                        data: [2.1, 2.4, 2.8, 3.2, 3.6, 4.1, 4.7, 5.2, 5.8, 6.4],
                        borderColor: '#428bf0',
                        backgroundColor: 'rgba(66, 139, 240, 0.15)',
                        tension: 0.4,
                        fill: true,
                        pointBackgroundColor: '#428bf0',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 3,
                        pointRadius: 6,
                        borderWidth: 3
                    }, {
                        label: 'Clicks (K)',
                        data: [45, 52, 61, 73, 86, 102, 118, 135, 152, 172],
                        borderColor: '#34D399',
                        backgroundColor: 'rgba(52, 211, 153, 0.15)',
                        tension: 0.4,
                        fill: true,
                        pointBackgroundColor: '#34D399',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 3,
                        pointRadius: 6,
                        borderWidth: 3
                    }, {
                        label: 'Conversions',
                        data: [3200, 3800, 4500, 5300, 6200, 7400, 8900, 10400, 12100, 14200],
                        borderColor: '#F59E0B',
                        backgroundColor: 'rgba(245, 158, 11, 0.15)',
                        tension: 0.4,
                        fill: true,
                        pointBackgroundColor: '#F59E0B',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 3,
                        pointRadius: 6,
                        borderWidth: 3
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                usePointStyle: true,
                                pointStyle: 'circle',
                                padding: 25,
                                font: {
                                    size: 13,
                                    weight: '600'
                                }
                            }
                        },
                        tooltip: {
                            mode: 'index',
                            intersect: false,
                            backgroundColor: 'rgba(0, 0, 0, 0.8)',
                            titleColor: '#fff',
                            bodyColor: '#fff',
                            borderColor: '#374151',
                            borderWidth: 1,
                            cornerRadius: 8,
                            displayColors: true,
                            callbacks: {
                                title: function(context) {
                                    return context[0].label + ' 2024';
                                },
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed.y !== null) {
                                        if (context.dataset.label.includes('Impressions')) {
                                            label += context.parsed.y.toFixed(1) + 'M';
                                        } else if (context.dataset.label.includes('Clicks')) {
                                            label += context.parsed.y + 'K';
                                        } else {
                                            label += context.parsed.y.toLocaleString();
                                        }
                                    }
                                    return label;
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            grid: { display: false },
                            ticks: {
                                color: tickColor,
                                font: {
                                    size: 12,
                                    weight: '500'
                                }
                            }
                        },
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: gridColor,
                                borderDash: [2, 2]
                            },
                            ticks: {
                                color: tickColor,
                                font: {
                                    size: 12,
                                    weight: '500'
                                },
                                callback: function(value) {
                                    if (value >= 1000000) {
                                        return (value / 1000000).toFixed(1) + 'M';
                                    } else if (value >= 1000) {
                                        return (value / 1000).toFixed(0) + 'K';
                                    }
                                    return value;
                                }
                            }
                        }
                    },
                    interaction: {
                        mode: 'nearest',
                        axis: 'x',
                        intersect: false
                    }
                }
            });

            // --- CONTENT PERFORMANCE CHART ---
            const contentCtx = document.getElementById('contentPerformanceChart').getContext('2d');
            new Chart(contentCtx, {
                type: 'bar',
                data: {
                    labels: ['TV', 'Print', 'Digital', 'Social', 'Radio', 'OOH'],
                    datasets: [{
                        label: 'Performance Score',
                        data: [90, 30, 75, 50, 20, 40],
                        backgroundColor: Object.values(channelColors),
                        borderRadius: 4,
                        borderWidth: 0,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: {
                        y: { beginAtZero: true, grid: { color: gridColor }, ticks: { color: tickColor, precision: 0 } },
                        x: { grid: { display: false }, ticks: { color: tickColor } }
                    }
                }
            });

            // --- AD SPEND CHART ---
            const adSpendCtx = document.getElementById('adSpendChart').getContext('2d');
            new Chart(adSpendCtx, {
                type: 'bar',
                data: {
                    labels: ['Campaign A', 'Campaign B', 'Campaign C', 'Campaign D'],
                    datasets: [
                        { label: 'TV', data: [15, 20, 25, 18], backgroundColor: channelColors.tv },
                        { label: 'Digital', data: [30, 25, 20, 28], backgroundColor: channelColors.digital },
                        { label: 'Social', data: [25, 30, 22, 32], backgroundColor: channelColors.social },
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { position: 'bottom', labels: { usePointStyle: true, pointStyle: 'rectRounded' } } },
                    scales: {
                        y: { stacked: true, beginAtZero: true, grid: { color: gridColor }, ticks: { color: tickColor, callback: v => `$${v}k` } },
                        x: { stacked: true, grid: { display: false }, ticks: { color: tickColor } }
                    }
                }
            });

            // --- SHARE OF VOICE CHART ---
            const shareOfVoiceCtx = document.getElementById('shareOfVoiceChart').getContext('2d');
            new Chart(shareOfVoiceCtx, {
                type: 'doughnut',
                data: {
                    labels: ['TV', 'Print', 'Digital', 'Social', 'Radio', 'OOH'],
                    datasets: [{
                        label: 'Share of Voice',
                        data: [35, 15, 25, 15, 5, 5],
                        backgroundColor: Object.values(channelColors),
                        borderColor: isDarkMode ? '#1E293B' : '#FFFFFF',
                        borderWidth: 4,
                        hoverOffset: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    cutout: '65%',
                    plugins: { legend: { position: 'bottom', labels: { usePointStyle: true, pointStyle: 'rectRounded', padding: 15 } } }
                }
            });

            // --- ENHANCED FILTER FUNCTIONALITY WITH DROPDOWNS ---
            const filterDropdowns = document.querySelectorAll('.filter-dropdown');
            
            filterDropdowns.forEach(dropdown => {
                const button = dropdown.querySelector('.filter-btn');
                const menu = dropdown.querySelector('.dropdown-menu');
                const filterText = dropdown.querySelector('.filter-text');
                const options = menu.querySelectorAll('.dropdown-option');
                
                // Enhanced mobile touch handling
                let touchStartY = 0;
                let touchStartX = 0;
                
                // Toggle dropdown on button click/touch
                button.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    // Close all other dropdowns
                    filterDropdowns.forEach(other => {
                        if (other !== dropdown) {
                            other.querySelector('.dropdown-menu').classList.add('hidden');
                        }
                    });
                    
                    // Toggle current dropdown
                    const isHidden = menu.classList.contains('hidden');
                    menu.classList.toggle('hidden');
                    
                    // Enhanced mobile positioning if needed
                    if (window.innerWidth <= 768 && isHidden) {
                        // Ensure menu is properly positioned for mobile
                        const rect = button.getBoundingClientRect();
                        menu.style.position = 'fixed';
                        menu.style.top = (rect.bottom + window.scrollY + 2) + 'px';
                        menu.style.left = '0';
                        menu.style.right = '0';
                        menu.style.width = '100vw';
                        menu.style.zIndex = '99999';
                        menu.style.maxHeight = '60vh';
                        menu.style.overflowY = 'auto';
                        menu.style.transform = 'translateY(0)';
                    }
                    
                    console.log('Filter dropdown toggled:', dropdown.dataset.filter, !isHidden);
                });
                
                // Touch start for gesture detection
                button.addEventListener('touchstart', function(e) {
                    touchStartY = e.touches[0].clientY;
                    touchStartX = e.touches[0].clientX;
                }, { passive: true });
                
                // Handle option selection with touch support
                options.forEach(option => {
                    option.addEventListener('click', function(e) {
                        e.preventDefault();
                        e.stopPropagation();
                        const value = this.dataset.value;
                        filterText.textContent = value;
                        menu.classList.add('hidden');
                        
                        // Show notification about filter change
                        showNotification(`Filter updated: ${dropdown.dataset.filter} = ${value}`, 'info');
                        
                        // Apply filter (you can add actual filtering logic here)
                        applyFilter(dropdown.dataset.filter, value);
                    });
                });
            });
            
            // Close dropdowns when clicking/touching outside
            document.addEventListener('click', function(e) {
                if (!e.target.closest('.filter-dropdown')) {
                    filterDropdowns.forEach(dropdown => {
                        dropdown.querySelector('.dropdown-menu').classList.add('hidden');
                    });
                }
            });
            
            // Handle touch events for closing dropdowns
            document.addEventListener('touchstart', function(e) {
                if (!e.target.closest('.filter-dropdown')) {
                    filterDropdowns.forEach(dropdown => {
                        dropdown.querySelector('.dropdown-menu').classList.add('hidden');
                    });
                }
            }, { passive: true });
            
            // Handle window resize to reset dropdown positions
            window.addEventListener('resize', function() {
                if (window.innerWidth > 768) {
                    // Reset to desktop positioning
                    filterDropdowns.forEach(dropdown => {
                        const menu = dropdown.querySelector('.dropdown-menu');
                        if (menu) {
                            menu.style.position = '';
                            menu.style.top = '';
                            menu.style.left = '';
                            menu.style.right = '';
                            menu.style.width = '';
                            menu.style.zIndex = '';
                            menu.style.maxHeight = '';
                            menu.style.overflowY = '';
                            menu.style.transform = '';
                        }
                    });
                }
            });
            
            // Reset filters functionality
            const resetFiltersBtn = document.getElementById('reset-filters');
            if (resetFiltersBtn) {
                resetFiltersBtn.addEventListener('click', function() {
                    const defaultValues = {
                        date: 'Last 30 Days',
                        channel: 'All Channels',
                        campaign: 'All Campaigns',
                        region: 'Global',
                        language: 'English',
                        source: 'All Sources'
                    };
                    
                    filterDropdowns.forEach(dropdown => {
                        const filterType = dropdown.dataset.filter;
                        const filterText = dropdown.querySelector('.filter-text');
                        filterText.textContent = defaultValues[filterType] || 'Select...';
                    });
                    
                    showNotification('All filters have been reset', 'success');
                });
            }
            
            // Apply filter function (placeholder for actual filtering logic)
            function applyFilter(filterType, value) {
                console.log(`Applying filter: ${filterType} = ${value}`);
                // Add actual filtering logic here
                // This could update charts, tables, or other data displays
            }

            // --- METRIC BUTTONS ---
            const metricBtns = document.querySelectorAll('.metric-btn');
            metricBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    metricBtns.forEach(b => {
                        b.className = 'rounded-md px-2 lg:px-3 py-1 lg:py-2 hover:bg-gray-200/60 dark:hover:bg-gray-700/60 transition-all duration-200';
                    });
                    this.className = 'rounded-md px-2 lg:px-3 py-1 lg:py-2 bg-card-light dark:bg-gray-700 text-primary dark:text-white shadow-sm transition-all duration-200';
                    
                    console.log('Selected metric:', this.dataset.metric);
                });
            });

            // --- ADDITIONAL CHARTS SETUP ---
            // Additional charts would go here...
            // Sentiment Analysis Chart
            const sentimentCtx = document.getElementById("sentimentAnalysisChart").getContext("2d");
            new Chart(sentimentCtx, {
                type: "line",
                data: {
                    labels: ["Jan", "Feb", "Mar", "Apr", "May", "Jun"],
                    datasets: [{
                        label: "Positive", data: [65, 59, 80, 81, 56, 72], borderColor: channelColors.digital, tension: 0.3, pointBackgroundColor: channelColors.digital,
                    }, {
                        label: "Negative", data: [28, 48, 40, 19, 36, 18], borderColor: channelColors.radio, tension: 0.3, pointBackgroundColor: channelColors.radio,
                    }, {
                        label: "Neutral", data: [7, 13, 20, 10, 8, 10], borderColor: channelColors.print, tension: 0.3, pointBackgroundColor: channelColors.print,
                    }, ],
                },
                options: {
                    responsive: true, maintainAspectRatio: false,
                    plugins: { legend: { position: 'bottom', labels: { usePointStyle: true, pointStyle: 'line' } } },
                    scales: {
                        y: { beginAtZero: true, grid: { color: gridColor }, ticks: { color: tickColor, callback: v => `${v}%` } },
                        x: { grid: { display: false }, ticks: { color: tickColor } },
                    },
                },
            });

            // Genre-wise Viewership Chart
            const genreCtx = document.getElementById("genreViewershipChart").getContext("2d");
            new Chart(genreCtx, {
                type: "bar",
                data: {
                    labels: ["News", "Fiction", "Non-Fiction", "Sports", "Movies", "Politics"],
                    datasets: [{
                        label: "Viewership (in thousands)",
                        data: [85, 62, 50, 95, 75, 45],
                        backgroundColor: [channelColors.tv, channelColors.social, channelColors.ooh, channelColors.radio, channelColors.digital, '#FF6B6B'],
                        borderRadius: 4,
                    }, ],
                },
                options: {
                    indexAxis: 'y', responsive: true, maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: {
                        x: { grid: { color: gridColor }, ticks: { color: tickColor } },
                        y: { grid: { display: false }, ticks: { color: tickColor } },
                    },
                },
            });

            // Ad Performance Chart
            const adPerformanceCtx = document.getElementById("adPerformanceChart").getContext("2d");
            new Chart(adPerformanceCtx, {
                type: "bubble",
                data: {
                    datasets: [
                        { label: "TV", data: [{ x: 50, y: 70, r: 25 }], backgroundColor: `${channelColors.tv}BF`, borderColor: channelColors.tv }, 
                        { label: "Print", data: [{ x: 30, y: 20, r: 10 }], backgroundColor: `${channelColors.print}BF`, borderColor: channelColors.print }, 
                        { label: "Digital", data: [{ x: 80, y: 60, r: 35 }], backgroundColor: `${channelColors.digital}BF`, borderColor: channelColors.digital }, 
                        { label: "Social", data: [{ x: 90, y: 85, r: 40 }], backgroundColor: `${channelColors.social}BF`, borderColor: channelColors.social },
                        { label: "Radio", data: [{ x: 20, y: 40, r: 15 }], backgroundColor: `${channelColors.radio}BF`, borderColor: channelColors.radio },
                    ],
                },
                options: {
                    responsive: true, maintainAspectRatio: false,
                    plugins: { legend: { position: 'bottom', labels: { usePointStyle: true, pointStyle: 'rectRounded' } },
                        tooltip: { callbacks: { label: function(c) { return `${c.dataset.label}: (Cost: ${c.parsed.x}, Reach: ${c.parsed.y}, ROI: ${c.raw.r})` } } }
                    },
                    scales: {
                        y: { title: { display: true, text: 'Reach Index' }, grid: { color: gridColor }, ticks: { color: tickColor } },
                        x: { title: { display: true, text: 'Cost Index' }, grid: { color: gridColor }, ticks: { color: tickColor } },
                    },
                },
            });

            // Predictive Campaign Impact Chart
            const predictiveModelingCtx = document.getElementById("predictiveModelingChart").getContext("2d");
            new Chart(predictiveModelingCtx, {
                type: 'line',
                data: {
                    labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4', 'Week 5', 'Week 6'],
                    datasets: [{
                        label: 'Predicted Impact', data: [50, 55, 62, 70, 75, 82], borderColor: channelColors.radio, borderDash: [5, 5], tension: 0.2, pointBackgroundColor: channelColors.radio,
                    }, {
                        label: 'Actual Impact', data: [48, 52, 60, 68], borderColor: channelColors.print, tension: 0.2, pointBackgroundColor: channelColors.print,
                    }]
                },
                options: {
                    responsive: true, maintainAspectRatio: false,
                    plugins: { legend: { position: 'bottom', labels: { usePointStyle: true, pointStyle: 'line' } } },
                    scales: {
                        y: { beginAtZero: true, grid: { color: gridColor }, ticks: { color: tickColor } },
                        x: { grid: { display: false }, ticks: { color: tickColor } }
                    }
                }
            });

            // Audience Demographics Chart
            const audienceDemographicsCtx = document.getElementById("audienceDemographicsChart").getContext("2d");
            new Chart(audienceDemographicsCtx, {
                type: 'bar',
                data: {
                    labels: ['18-24', '25-34', '35-44', '45-54', '55+'],
                    datasets: [{
                        label: 'Male', data: [30, 45, 52, 38, 25], backgroundColor: '#3b82f6', borderRadius: 2,
                    }, {
                        label: 'Female', data: [35, 50, 58, 42, 28], backgroundColor: '#ec4899', borderRadius: 2,
                    }]
                },
                options: {
                    responsive: true, maintainAspectRatio: false,
                    plugins: { legend: { position: 'bottom', labels: { usePointStyle: true, pointStyle: 'rectRounded' } } },
                    scales: {
                        x: { stacked: true, grid: { display: false }, ticks: { color: tickColor } },
                        y: { stacked: true, grid: { color: gridColor }, ticks: { color: tickColor } }
                    }
                }
            });

            // --- NOTIFICATION SYSTEM ---
            function showNotification(message, type = 'info', duration = 3000) {
                // Remove existing notifications
                const existingNotifications = document.querySelectorAll('.notification');
                existingNotifications.forEach(notification => notification.remove());
                
                const notification = document.createElement('div');
                notification.className = `notification fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg transition-all duration-300 max-w-sm ${
                    type === 'success' ? 'bg-green-500 text-white' :
                    type === 'error' ? 'bg-red-500 text-white' :
                    type === 'warning' ? 'bg-yellow-500 text-black' :
                    'bg-blue-500 text-white'
                }`;
                notification.innerHTML = `
                    <div class="flex items-center gap-3">
                        <span class="material-symbols-outlined text-lg">
                            ${type === 'success' ? 'check_circle' :
                              type === 'error' ? 'error' :
                              type === 'warning' ? 'warning' : 'info'}
                        </span>
                        <span class="text-sm font-medium">${message}</span>
                        <button class="notification-close ml-auto p-1 hover:bg-white/20 rounded">
                            <span class="material-symbols-outlined text-sm">close</span>
                        </button>
                    </div>
                `;
                
                document.body.appendChild(notification);
                
                // Animate in
                setTimeout(() => {
                    notification.style.opacity = '1';
                    notification.style.transform = 'translateX(0)';
                }, 100);
                
                // Handle close button
                const closeBtn = notification.querySelector('.notification-close');
                closeBtn.addEventListener('click', () => {
                    hideNotification(notification);
                });
                
                // Auto-hide after duration
                setTimeout(() => {
                    hideNotification(notification);
                }, duration);
            }
            
            function hideNotification(notification) {
                notification.style.opacity = '0';
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.remove();
                    }
                }, 300);
            }
            
            // Add CSS for notification animations
            const notificationStyles = document.createElement('style');
            notificationStyles.textContent = `
                .notification {
                    opacity: 0;
                    transform: translateX(100%);
                    box-shadow: 0 10px 25px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
                }
                .notification-close:hover {
                    background-color: rgba(255, 255, 255, 0.2);
                    border-radius: 4px;
                }
            `;
            document.head.appendChild(notificationStyles);
            
            // Apply theme immediately to prevent flash
            const savedTheme = localStorage.getItem('theme') || 'dark';
            document.documentElement.classList.toggle('dark', savedTheme === 'dark');
            updateThemeUI();

            // --- SMOOTH SCROLL ANIMATIONS ---
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, observerOptions);

            // Observe all containers
            document.querySelectorAll('.chart-container, .metric-card').forEach(el => {
                el.style.opacity = '0';
                el.style.transform = 'translateY(20px)';
                el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                observer.observe(el);
            });
        });
    </script>
</body>
</html>
